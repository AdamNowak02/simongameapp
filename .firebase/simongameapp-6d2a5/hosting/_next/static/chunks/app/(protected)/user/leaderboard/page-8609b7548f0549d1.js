(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{3053:(e,t,r)=>{Promise.resolve().then(r.bind(r,7584))},7584:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(5155),s=r(2115),d=r(7982),l=r(7058),n=r(6046);function o(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)({}),[c,i]=(0,s.useState)(!0),[x,u]=(0,s.useState)(null);return((0,n.useRouter)(),(0,s.useEffect)(()=>{(async()=>{try{let e=(0,l.P)((0,l.rJ)(d.db,"scores"),(0,l.My)("BestGamePoints","desc")),r=(await (0,l.GG)(e)).docs.map(e=>({id:e.id,...e.data()})),a=r.map(e=>e.user),s=[...new Set(a)],n={};for(let e of s){let t=(0,l.H9)(d.db,"users",e),r=await (0,l.x7)(t);r.exists()?n[e]=r.data():n[e]={}}t(r),o(n)}catch(e){u("Błąd podczas pobierania wynik\xf3w."),console.error("Error fetching scores:",e)}finally{i(!1)}})()},[]),c)?(0,a.jsx)("p",{children:"Ładowanie..."}):(0,a.jsx)("div",{className:"flex flex-col justify-center items-center h-full bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-lg px-8 pt-6 pb-8 w-full max-w-xl",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-6 text-center",children:"Tabela wynik\xf3w"}),x&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:x}),(0,a.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"py-3 px-6 text-left border-b text-lg",children:"Miejsce"}),(0,a.jsx)("th",{className:"py-3 px-6 text-left border-b text-lg",children:"Zdjęcie"}),(0,a.jsx)("th",{className:"py-3 px-6 text-left border-b text-lg",children:"Nazwa użytkownika"}),(0,a.jsx)("th",{className:"py-3 px-6 text-left border-b text-lg",children:"Punkty"})]})}),(0,a.jsx)("tbody",{children:e.map((e,t)=>{let s=r[e.user]||{},d="";return 0===t?d="text-yellow-500 font-bold":1===t?d="text-gray-400 font-bold":2===t&&(d="text-orange-800 font-bold"),(0,a.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,a.jsx)("td",{className:"py-3 px-6 border-b ".concat(d),children:t+1}),(0,a.jsx)("td",{className:"py-3 px-6 border-b",children:s.photoURL?(0,a.jsx)("img",{src:s.photoURL,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-gray-300"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border-2 border-gray-300 bg-gray-200"})}),(0,a.jsx)("td",{className:"py-3 px-6 border-b",children:s.nickname||""}),(0,a.jsx)("td",{className:"py-3 px-6 border-b",children:e.BestGamePoints})]},e.id)})})]})]})})}},7982:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,j:()=>n});var a=r(9904),s=r(399),d=r(7058);let l=(0,a.Wp)({apiKey:"AIzaSyB78xVoymvz1UXImgWC8Qz-d9Kr-jeS4D8",authDomain:"simongameapp-6d2a5.firebaseapp.com",projectId:"simongameapp-6d2a5",storageBucket:"simongameapp-6d2a5.appspot.com",messagingSenderId:"391782492591",appId:"1:391782492591:web:9651180232fc3075fda75a",measurementId:"G-650F3EGMK7"}),n=(0,s.xI)(l),o=(0,d.aU)(l)},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[882,992,734,778,441,517,358],()=>t(3053)),_N_E=e.O()}]);